
# Sql Injection types


## Blind Injection

Simply put when an application has a login, it will take the username / password and query the database to validate that the user existis and password is correct

Example:

``` sql 
select * from users where username='Admin'
```

This query may have the initial purpose of seeing if the query returns anything back at all. So enabling the query to return ANY result set can lead to a bypass.


## Error Based

Error based is when the error is returned directly to the application from the Sql Server itself.

We can use the same methods as a blind sql injection, but we inspect the error code to determine more information about what the underlying query might be.

You may use things like the comment out statement, i.e. "--" this will remove the rest of the sql query if there are multiple filters on the where clause
or you might use the common "1=1" statement to make the query always true in order to always return something in conjunction with adding in an "OR" statement to 
the WHERE clause.

## Boolean Based

Once a sqli statement has been found, we can ask questions using a simple Error/Valid or True/False statement

In an injectable where clause like above, if we are able to establish when it runs a valid and non valid statment, we can essentially fuzz for different things

``` sql
select * from users where username = '1' AND (ascii(substr((select database()),1,1))) = 115 --+
```

This is using the ascii windowing function, which allows for easy fuzzing (numbers instead of letters) and the substring windowing function to pull out the first letter of the name of the database
with this we could in theory spell out the entire database name.

## Union Based


Union based sqli is using the UNION operator which allows for a selection from another table to be appeneded to the top selection

An example relative to sqli would be:

``` sql
select Title from Todo where Id = 1
union
select username from Users 
```

The injection in this statement would be ``` 1 union select username from Users ```

We can use this to get data that we would not normally be able to see

Union statments however requeire that the same number of columns be returned and that the types of the columns match.

You can use NULLs to initially determine how many columns are being returned like so:

``` sql 
select * from Todo where Id = 1
union 
select NULL, NULL, NULL ....
```





